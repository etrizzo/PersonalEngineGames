<!--
	Sample new format:
-->

	<OutcomeNode name="Fight">
		<Characters>
			<Character id = "*0*" title="fighter"/>
		</Characters>
		<CharacterRequirements>
			<Character index="0">
				<Requirement tag="isAlive" target="true" />
				<Requirement tag="isFighting" target="true" type="boolean" weight ="3.0"/>
			</Character>
		</CharacterRequirements>

		<Guaranteed>
			<EffectSet>
				<TagChange character="*0*" tag="isFighting" target="false" />
			</EffectSet>
		</Guaranteed>

		<Actions>
			<Action text="*0* wins the fight." chance=".6">
				<Modifier character = "0" multiplier = "1.5"> 
					<CharacterRequirements>
						<Requirement trait="Bravery" minValue="70"/>
					</CharacterRequirements>
				</Modifier>
				<Modifier character="0" multiplier="1.5">\
					<CharacterRequirements>
						<Requirement tag="isWounded" target="true" multiplier=".9" />
					</CharacterRequirements>
				</Modifier>
				<EffectSet>
					<TagChange character="*0*" tag="isFighting" target="false" />
				</EffectSet>
			</Action>

			<Action text="*0* loses the fight and flees for home." chance=".3" endsAct="true">
				<Modifier character = "0" multiplier = "1.5"> 
					<CharacterRequirements>
						<Requirement trait="Bravery" maxValue="30"/>
					</CharacterRequirements>
				</Modifier>
				<Modifier character="0" multiplier="1.5">
					<CharacterRequirements>
						<Requirement tag="isWounded" target="true" multiplier="1.5" />
					</CharacterRequirements>
				</Modifier>
				<EffectSet>
					<!--<TagChange character="*0*" tag="isFighting" target="false" />-->
					<TagChange character="*0*" tag="onQuest" target="false" />
					<TagChange character="*0*" tag="inCave" target="false" />
					<TagChange character="*0*" tag="inDungeon" target="false" />
					<TagChange character="*0*" tag="isWounded" target="true" expiration="3~5"/>
				</EffectSet>
			</Action>

			<Action text="*0* loses the fight and dies." chance=".1" endsAct="true">
				<Modifier character = "0" multiplier = "1.5"> 
					<CharacterRequirements>
						<Requirement trait="Bravery" maxValue="30"/>
					</CharacterRequirements>
				</Modifier>
				<Modifier character="0" multiplier="1.5">
					<CharacterRequirements>
						<Requirement tag="isWounded" target="true" multiplier="1.5" />
					</CharacterRequirements>
				</Modifier>
				<EffectSet>
					<!--<TagChange character="*0*" tag="isFighting" target="false" />-->
					<TagChange character="*0*" tag="onQuest" target="false" />
					<TagChange character="*0*" tag="isAlive" target="false" />
				</EffectSet>
			</Action>
		</Actions>
	</OutcomeNode>


	<OutcomeNode name="GetLostDungeon" chanceToPlace=".1">
		<Characters>
			<Character id = "*0*" />
		</Characters>

		<CharacterRequirements>
			<Character index="0">
				<Requirement tag="isAlive" target="true" />
				<Requirement tag="inDungeon" target="true" />
				<Requirement tag="isFighting" target="false" />
			</Character>
		</CharacterRequirements>
		<Actions>
			<Action text="*0* gets lost."/>

			<Action text="*0* enters the darkest part of the dungeon" chanceToPlace=".5">
				<Modifier character="0" multiplier = "0">
					<CharacterRequirements>
						<Requirement tag="hasNightVision" target="false" />
					</CharacterRequirements>
				</Modifier>
				<EffectSet>
					<TagChange character="*0*" tag="inDarkArea" target="true" />
				</EffectSet>
			</Action>

		</Actions>
		
		<StoryRequirements>
		</StoryRequirements>
		<StoryEffects>
		</StoryEffects>
	</OutcomeNode>

<!--
	<OutcomeNode name="GetLostCave" chanceToPlace=".4">>
		<Characters>
			<Character id = "*0*" />
		</Characters>

		<CharacterRequirements>
			<Character index="0">
				<Requirement tag="isAlive" target="true" />
				<Requirement tag="inCave" target="true" />
				<Requirement tag="isFighting" target="false" />
			</Character>
		</CharacterRequirements>

		<Actions>
			<Action text="*0* gets lost." >
				<EffectSet>
					<TagChange character="*0*" tag="isLost" target="true" />
				</EffectSet>
			</Action>

			<Action text="*0* stumbles into the darkest part of the cave" >
				<Modifier character="0" multiplier = "1">
					<CharacterRequirements>
						<Requirement tag="hasNightVision" target="false" />
					</CharacterRequirements>
				</Modifier>
				<EffectSet>
					<TagChange character="*0*" tag="isLost" target="true" />
					<TagChange character="*0*" tag="inDarkArea" target="true" />
				</EffectSet>
			</Action>

			<Action text="*0* enters the darkest part of the cave" >
				<Modifier character="0" multiplier = "1">
					<CharacterRequirements>
						<Requirement tag="hasNightVision" target="false" />
					</CharacterRequirements>
				</Modifier>
				<EffectSet>
					<TagChange character="*0*" tag="inDarkArea" target="true" />
				</EffectSet>
			</Action>
		</Actions>

		<StoryRequirements>
		</StoryRequirements>
		<StoryEffects>
		</StoryEffects>
	</OutcomeNode>
-->

	<OutcomeNode name="CrossroadOutcome">
		<Characters>
			<Character id = "*0*" />
		</Characters>

		<CharacterRequirements>
			<Character index="0">
				<StoryRequirement tag="atCrossroad" weight="10.0"/>
				<Requirement tag="isAlive" target="true" />
			</Character>
		</CharacterRequirements>


		<Actions>
			<Action text="*0* confidently takes the dark path" chance=".01">
				<Modifier character = "0" multiplier = "95.00"> 
					<CharacterRequirements>
						<Requirement tag="hasDarkVision" target="true"/>
					</CharacterRequirements>
				</Modifier>
				<EffectSet>
					<TagChange character="*0*" tag="isLost" target="false" />
					<TagChange character="*0*" tag="inDarkArea" target="true" />
				</EffectSet>
			</Action>
			<Action text="*0* risks the dark path and gets lost." chance=".2">
				<EffectSet>
					<TagChange character="*0*" tag="isLost" target="true" />
					<TagChange character="*0*" tag="inDarkArea" target="true" />
				</EffectSet>
			</Action>
			<Action text ="*0* takes the lit path" chance=".8">
				<EffectSet>
					<TagChange character="*0*" tag="inDarkArea" target="false" />
				</EffectSet>
			</Action>
		</Actions>

		<StoryEffects>
			<EffectSet chance="default">
				<TagChange tag="atCrossroad" target="none" type="character" effectType="story"/>
			</EffectSet>
		</StoryEffects>

	</OutcomeNode>



	<OutcomeNode name="ExitOutcome">
		<Characters>
			<Character id = "*0*" />
		</Characters>

		<CharacterRequirements>
			<Character index="0">
				<StoryRequirement tag="foundExit" weight="10.0"/>
				<Requirement tag="isAlive" target="true" />
				<Requirement tag="isFighting" target="false" />
			</Character>
		</CharacterRequirements>


		<Actions>
			
			<Action text="*0* leaves the cave" chance=".8" endsAct = "true">
				<EffectSet>
					<TagChange character="*0*" tag="inCave" target="false" />
					<TagChange character="*0*" tag="onQuest" target="false" />
				</EffectSet>
			</Action>
			<Action text="*0* decides to keep exploring" chance=".2">
			</Action>
		</Actions>

		<StoryEffects>
			<EffectSet chance="default">
				<TagChange tag="foundExit" target="none" type="character" effectType="story"/>
			</EffectSet>
		</StoryEffects>

	</OutcomeNode>




	<OutcomeNode name="FindWayAndStay" chanceToPlace=".5">>
		<Characters>
			<Character id = "*0*" />
		</Characters>
		<Actions>
			<Action text="*0* figures out where they are.">
				<EffectSet>
					<TagChange character="*0*" tag="isLost" target="false" />
				</EffectSet>
			</Action>
		</Actions>

		<CharacterRequirements>
			<Character index="0">
				<Requirement tag="isLost" target="true" weight="5"/>
			</Character>
		</CharacterRequirements>
	</OutcomeNode>

	<OutcomeNode name="LosesHope" chanceToPlace=".1">>
		<Characters>
			<Character id = "*0*" />
		</Characters>
		<Actions>
			<Action text="*0* loses hope." chanceToPlace=".1">
				<EffectSet>
					<TagChange character="*0*" tag="hasHope" target="false" />
				</EffectSet>
			</Action>
		</Actions>

		<CharacterRequirements>
			<Character index="0">
				<Requirement tag="isLost" target="true" weight="5"/>
			</Character>
		</CharacterRequirements>
	</OutcomeNode>

	<OutcomeNode name="StarveWhileLost" chanceToPlace=".3">>
		<Characters>
			<Character id = "*0*" />
		</Characters>
		<Actions>
			<Action text="*0* starves to death while lost." chanceToPlace=".1" endsAct="true">
				<EffectSet>
					<TagChange character="*0*" tag="isAlive" target="false" />
				</EffectSet>
			</Action>
		</Actions>

		<CharacterRequirements>
			<Character index="0">
				<Requirement tag="isLost" target="true" weight="5"/>
				<Requirement tag="hasHope" target="false" weight="5" />
			</Character>
		</CharacterRequirements>
	</OutcomeNode>

	<OutcomeNode name="FindWayAndLeaveCave" chanceToPlace=".5">
		<Characters>
			<Character id = "*0*" />
		</Characters>
		<Actions>
			<Action text="*0* finds their way out of the cave." chanceToPlace=".1">
				<EffectSet>
					<TagChange character="*0*" tag="isLost" target="false" />
					<TagChange character="*0*" tag="inCave" target="false" />
					<TagChange character="*0*" tag="onQuest" target="false" />
				</EffectSet>
			</Action>
		</Actions>

		<CharacterRequirements>
			<Character index="0">
				<Requirement tag="isLost" target="true" weight="5"/>
				<Requirement tag="inCave" target="true" />
			</Character>
		</CharacterRequirements>
	</OutcomeNode>

	<OutcomeNode name="FindWayAndLeaveDung" chanceToPlace=".5">>
		<Characters>
			<Character id = "*0*" />
		</Characters>
		<Actions>
			<Action text="*0* finds their way out of the dungeon." chanceToPlace=".1">
				<EffectSet>
					<TagChange character="*0*" tag="isLost" target="false" />
					<TagChange character="*0*" tag="inDungeon" target="false" />
					<TagChange character="*0*" tag="onQuest" target="false" />
				</EffectSet>
			</Action>
		</Actions>

		<CharacterRequirements>
			<Character index="0">
				<Requirement tag="isLost" target="true" weight="5"/>
				<Requirement tag="inDungeon" target="true" />
			</Character>
		</CharacterRequirements>
	</OutcomeNode>


<!--

	<OutcomeNode>
		<Action text="*0* talks to *1* about *0_TAG*" />
		<CharacterRequirements>
			<Character number="0">
				<Requirement trait="Social" value="60" compare="greater" />
			</Character>
		</CharacterRequirements>
		<StoryRequirements>
			<A tag = "isAlive" 	target="true"/> 
			<B tag = "isAlive" 	target="true"/>
			<A tag = "isAngryAt" target="! *0*" />
		</StoryRequirements>
		<StoryEffects>

			<EffectSet chance="default">
				<TraitChange character="0" trait="Social" change="-10" />
				<TraitChange character="1" trait="Social" change="-10" />
				<TagChange character="1" tag = "isAngry" target="*A" />
				<StoryChange Action="+5" Tension="+10" /> 
			</EffectSet>
		</StoryEffects>
	</OutcomeNode>

	<OutcomeNode>
		<Action text="*0* chats with *1*" />
		<CharacterRequirements>
			<Character number="0">
				<Requirement trait="Social" value="60" compare="greater" />
				<Requirement tag="isAlive" target="true"/>
				<Requirement tag="isAngryAt" target="*1*"/>
			</Character>
			<Character number="1">
				<Requirement tag="isAlive" target="true" />
			</Character>
		</CharacterRequirements>
		<StoryRequirements>
			<StoryRequirement feeling="tension" value="15" compare="greater" />
		</StoryRequirements>
		<StoryEffects>
			<EffectSet chance="default">
				<TraitChange character="0" trait="Social" change="-10" />
				<TraitChange character="1" trait="Social" change="-10" />
				<TagChange character="1" tag = "isAngry" target="*0*" />
				<StoryChange Action="+5" Tension="+10" /> 
			</EffectSet>
		</StoryEffects>
	</OutcomeNode>
-->

<!--
	<OutcomeNode>
		<Action text="*0* fights a cave jelly" />
		<CharacterRequirements>
			<Character index="0">
				<Requirement tag="isAlive" target="true" />
				<Requirement tag="inCave" target="true" />
			</Character>
		</CharacterRequirements>
		<StoryRequirements>
			<StoryRequirement feeling="tension" value="15" compare="greater" />
		</StoryRequirements>
		<StoryEffects>
			<EffectSet chance="default">
				<StoryChange Action="+5" Tension="+10" /> 
				<TagChange character="0" tag="isFighting" target="true" type="boolean"/>
			</EffectSet>
		</StoryEffects>
	</OutcomeNode>



	<OutcomeNode>
		<Action text="*0* fights a dungeon monster" />
		<CharacterRequirements>
			<Character index="0">
				<Requirement tag="isAlive" target="true" />
				<Requirement tag="inDungeon" target="true" />
			</Character>
		</CharacterRequirements>
		<StoryRequirements>
			<StoryRequirement feeling="tension" value="15" compare="greater" />
		</StoryRequirements>
		<StoryEffects>
			<EffectSet chance="default">
				<StoryChange Action="+5" Tension="+10" /> 
				<TagChange character="0" tag="isFighting" target="true" type="boolean"/>
			</EffectSet>
		</StoryEffects>
	</OutcomeNode>
-->


	<!-- fighting a thing? -->
	<!--
	<OutcomeNode>
		<Action text="*0* wins the fight." chance=".5"/>
		<CharacterRequirements>
			<Character index="0">
				<Requirement tag="isAlive" target="true" />
				<Requirement tag="isFighting" target="true" type="boolean"/>
			</Character>
		</CharacterRequirements>
		<StoryRequirements>
			<StoryRequirement feeling="tension" value="15" compare="greater" />
		</StoryRequirements>
		<StoryEffects>
			<EffectSet chance="default">
				<StoryChange Action="+5" Tension="+10" /> 
				<TagChange character="0" tag="isFighting" target="false" />
			</EffectSet>
		</StoryEffects>
	</OutcomeNode>


	<OutcomeNode>
		<Action text="*0* wins the fight with *1*." />
		<CharacterRequirements>
			<Character index="0">
				<Requirement tag="isAlive" target="true" />
				<Requirement tag="isFighting" target="*1*" type="character"/>
			</Character>
		</CharacterRequirements>
		<StoryRequirements>
			<StoryRequirement feeling="tension" value="15" compare="greater" />
		</StoryRequirements>
		<StoryEffects>
			<EffectSet chance="default">
				<StoryChange Action="+5" Tension="+10" /> 
				<TagChange character="0" tag="isFighting" target="false" />
				<TagChange character="1" tag="isFighting" target="false" />
			</EffectSet>
		</StoryEffects>
	</OutcomeNode>
-->

				<!--
			<EffectSet chance="*B_INVERSE_TRAIT1"/>
				<TraitChange character="*A" trait="Social" change="+10" />
				<TraitChange character="*B" trait="Social" change="+10" />
				<TagChange character="*B" tag = "isTrusting" target="*A" />
				<StoryChange Action="+5" Romance="+10" /> 
			</EffectSet>
		-->
