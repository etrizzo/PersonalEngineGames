<MapDefinitions>

  <MapDefinition name="Forest" defaultTile="Grass" width="80" soundtrack="Caketown 1.mp3">
    <GenerationSteps>
      <SetSubArea subAreaSize=".3~.4" subAreaCenter=".2~.8" type="circle"/>
        <SpawnDecoration type="GreenTree" spawnType="mutate" onTile="Grass" chanceToSpawn=".3f" centerDensity=".8f" edgeDensity=".1" feather=".3"/>
        <FillAndEdge edgeTile="Dirt" />
      <EndSubArea />
    </GenerationSteps>
  </MapDefinition>

  <MapDefinition name="LargeMap" defaultTile="Grass" width="200~300" soundtrack="Caketown 1.mp3">
    <GenerationSteps>
      <FillAndEdge edgeTile="StoneBrickWall" fillTile="Water" edgeThickness="1"/> 
      

      <SetSubArea subAreaSize="-0.5~1.5" type="perlin" noiseScale="80" centerDensity="1" edgeDensity="1" feather="1"/>
        <FillAndEdge edgeTile="Dirt" fillTile="Sand" edgeThickness="1"/> 
        <FillAndEdge edgeTile="Sand" fillTile="Grass" edgeThickness="2" edgeDensity=".9" feather=".6"/> 

        <SetSubArea subAreaSize="0.5~1.5" type="perlin" noiseScale="80" inheritSeed ="true" feather=".05" />
          <FillAndEdge edgeTile="LightFlowers" fillTile="LightFlowers" />
        <EndSubArea />
      <EndSubArea />
      
      <SetSubArea subAreaCenter=".1~.9" subAreaSize=".05~.1" type="circle" centerDensity="1" edgeDensity=".9" feather=".1"/>
              <RoomsAndPaths>
                <Rooms count="4~8" width="7~9" height="6~8" numOverlaps="0~3" floor="Wood" wall="StoneBrickWall"/>
                <Paths floor="Dirt" straightChance=".05"/>
              </RoomsAndPaths>
              <SpawnActor type="Villager" iterations="3~4" onTile="LightFlowers" />
              <CellularAutomata ifType="Dirt" ifNeighborType="Water" changeToType="WeatheredWood"/>
                <FillAndEdge edgeTile="Dirt" />
      <EndSubArea />
      <SetSubArea subAreaCenter=".1~.9" subAreaSize=".05~.08" type="circle" centerDensity="1" edgeDensity=".5" feather=".1"/>
              <RoomsAndPaths>
                <Rooms count="4~8" width="7~9" height="6~8" numOverlaps="0~3" floor="Wood" wall="StoneBrickWall"/>
                <Paths floor="Dirt" straightChance=".05"/>
              </RoomsAndPaths>
               <SpawnActor type="Villager" iterations="3~4" onTile="LightFlowers" />
              <CellularAutomata ifType="Dirt" ifNeighborType="Water" changeToType="WeatheredWood"/>
                <FillAndEdge edgeTile="Dirt" />
      <EndSubArea />
      <SetSubArea subAreaCenter=".1~.9" subAreaSize=".05~.15" type="circle" centerDensity="1" edgeDensity=".5" feather=".1"/>
              <RoomsAndPaths>
                <Rooms count="4~8" width="7~9" height="6~8" numOverlaps="0~3" floor="Wood" wall="StoneBrickWall"/>
                <Paths floor="Dirt" straightChance=".05"/>
              </RoomsAndPaths>
               <SpawnActor type="Villager" iterations="4~6" onTile="LightFlowers" />
              <CellularAutomata ifType="Dirt" ifNeighborType="Water" changeToType="WeatheredWood"/>
              <FillAndEdge edgeTile="Dirt" />
      <EndSubArea />
    
      <SetSubArea subAreaCenter=".7~.9" subAreaSize=".25~.35" type="circle" centerDensity="1" edgeDensity=".01" feather=".3" />
         <SpawnDecoration type="GreenTree" spawnType="mutate" onTile="Grass" chanceToSpawn=".4f" />
         <SpawnDecoration type="GreenTree" spawnType="mutate" onTile="LightFlowers" chanceToSpawn=".2f" />
      <EndSubArea />
<!--
      <SetSubArea subAreaCenter=".1~.9" subAreaSize=".15~.2" />
      <FillAndEdge edgeTile = "Dirt" />
        <SubMap map="SmallVillage" />
      <EndSubArea />
      
      <SetSubArea subAreaCenter=".1~.9" subAreaSize=".1~.1" />
      <FillAndEdge edgeTile = "Dirt" />
        <SubMap map="SmallVillage" />
        
      <EndSubArea />
      <SetSubArea subAreaCenter=".1~.9" subAreaSize=".15~.2" />
      <FillAndEdge edgeTile = "Dirt" />
        <SubMap map="SmallVillage" />
      <EndSubArea />
    -->
    </GenerationSteps>
  </MapDefinition>

  <MapDefinition name="ItemZoo" defaultTile="Grass" width="20" soundtrack="Caketown 1.mp3">
    <GenerationSteps>
      <FillAndEdge edgeTile="StoneBrickWall" edgeThickness="2"/>
      <SpawnItem type="Platemail Chestpiece" />
      <SpawnItem type="Platemail Helmet" />
      <SpawnItem type="Platemail Leggings" />
      <SpawnItem type="Leather Chestpiece" />
      <SpawnItem type="Leather Leggings" />
      <SpawnItem type="Leather Hat" />

      <SpawnActor type="Villager" iterations="3~4" />
      <!--
      <SpawnActor type="Villager" />
      <SpawnActor type="Villager" />
      <SpawnActor type="Villager" />
      <SpawnActor type="Villager" />
    -->
    </GenerationSteps>
  </MapDefinition>


  <MapDefinition name="Zoo" defaultTile="Grass" width="80~90" soundtrack="Caketown 1.mp3">
    <GenerationSteps>
      <!--
      <Mutate ifType="Grass" toType="Water" chanceToMutate="0.0" />
      <CellularAutomata iterations="2~3" ifNeighborType="Water" changeToType="Water" chanceToMutate=".5"/>
      <CellularAutomata ifType="Grass" changeToType="Sand" ifNeighborType="Water"/>
      
      <PerlinNoise ifType="Grass" changeToType="Flowers" ifNoise="-1~-.4" />
      <PerlinNoise ifType="Grass" changeToType="LightFlowers" ifNoise="-.4~-.1" />
   
      <Mutate subAreaCenter=".4~.6" subAreaSize=".15~.6" ifType="LightFlowers" toType="Wood" chanceToMutate=".8"/>

      <PerlinNoise subAreaCenter=".1~.9" subAreaSize=".45~.65" changeToType="WeatheredWood" ifNoise=".4~1" />
      

      <SetSubArea subAreaCenter=".3~.7" subAreaSize="0.0~2.0" type="perlin" centerDensity="1" edgeDensity="1" feather=".1"/>
        <FillAndEdge edgeTile="Dirt" fillTile="Sand" edgeThickness="1"/> 
        <FillAndEdge edgeTile="Sand" fillTile="Water" edgeThickness="2" feather="1"/> 
      <EndSubArea />
      --> 
      
      <SetSubArea subAreaCenter=".3~.7" subAreaSize=".25~.25" type="circle" centerDensity="1" edgeDensity="1" feather=".05"/>
              <!--<FillAndEdge edgeTile="Dirt" /> -->
              <SubMap map="SmallVillage" />
      <EndSubArea />
<!--
      <FillAndEdge subAreaCenter=".1~.9" subAreaSize=".05~.1" edgeTile="MossyStoneBrick" fillTile="Sand" edgeThickness="1" type="circle"/>
      <FillAndEdge edgeTile="StoneBrickWall" edgeThickness="1"/>
      
      <SetSubArea subAreaSize=".1~.3" type="circle" />
        <FillAndEdge fillTile="Water" noiseScale="20" edgeTile="Sand"/>
        <CellularAutomata iterations="2~3" ifType="Grass" ifNeighborType="Water" changeToType="Sand" />
      <EndSubArea />
      -->
    </GenerationSteps>
  </MapDefinition>
    
  <MapDefinition name="Island" defaultTile="Sand" width="20~30" height="20~30" soundtrack="Caketown 1.mp3">
    <GenerationSteps>
      <FillAndEdge fillTile="Sand" edgeTile="Water"/>
      <Mutate ifType="Sand" toType="Grass" chanceToMutate=".1"/>
      <FromFile fileName="Altar_Test.png" startX="3~5" startY="3~5"/>
      <FillAndEdge edgeTile="Water"/>
      <CellularAutomata iterations="2~4" ifType="Sand" ifNeighborType="Water" changeToType="Water" chanceToMutate=".4"/>
      <CellularAutomata iterations="2~4" ifType="Sand" changeToType="Grass" ifNeighborType="Grass" chanceToMutate="0.3"/>
      <CellularAutomata ifType="Sand" changeToType="Water" ifNeighborType="Water" ifNeighborCount="5~8"/>
      <CellularAutomata iterations="2" ifType="Sand" changeToType="Grass" ifNeighborType="Grass" ifNeighborCount="4~8" chanceToMutate=".3"/>
      <CellularAutomata ifType="Grass" changeToType="Sand" ifNeighborType="Water"/>
    </GenerationSteps>
  </MapDefinition>

  <MapDefinition name="SmallVillage" defaultTile="Grass" width="30~50" height="30~50" soundtrack="Caketown 1.mp3">
    <GenerationSteps>
      <Mutate ifType="Grass" toType="Water" chanceToMutate=".001" />
      <CellularAutomata iterations="3~4" ifNeighborType="Water" changeToType="Water" chanceToMutate=".5"/>
      <Mutate ifType="Grass" toType="Water" chanceToMutate=".001" />
      <CellularAutomata iterations="2~4" ifNeighborType="Water" changeToType="Water" chanceToMutate=".5"/>
      <CellularAutomata iterations="1" ifType="Grass" ifNeighborType="Water" changeToType="Water" ifNeighborCount="5~8"/>
      <CellularAutomata ifType="Grass" ifNeighborType="Water" changeToType="Sand"/>
      <PerlinNoise ifType="Grass" changeToType="Flowers" ifNoise="-1~-.6" gridSize="12"/>
      <PerlinNoise ifType="Grass" changeToType="LightFlowers" ifNoise="-.6~-.2" gridSize="12"/>
      <Mutate ifType="Grass" toType="LightFlowers" chanceToMutate=".001" />
      <Mutate ifType="LightFlowers" toType="Grass" chanceToMutate=".06" />
      <CellularAutomata ifType="Flowers" toType="LightFlowers" ifNeighbor="LightFlowers" chanceToMutate=".2"/>
      <CellularAutomata iterations="1~2" ifType="LightFlowers" toType="Grass" ifNeighbor="Grass" chanceToMutate=".2"/>
      <RoomsAndPaths>
        <Rooms count="4~8" width="7~9" height="6~8" numOverlaps="0~3" floor="Wood" wall="StoneBrickWall"/>
        <Paths floor="Dirt" straightChance=".05"/>
      </RoomsAndPaths>
      <CellularAutomata ifType="Dirt" ifNeighborType="Water" changeToType="WeatheredWood"/>
    </GenerationSteps>
  </MapDefinition>

  <MapDefinition name="Cellar" defaultTile="StoneBrick" width="10~15" height="10~15" soundtrack="Dark Descent.mp3">
    <GenerationSteps>
      <Mutate ifType="StoneBrick" toType="MossyStoneBrick" chanceToMutate=".4"/>
      <Mutate ifType="MossyStoneBrick" toType="CrackedStoneBrick" chanceToMutate=".4"/>
    </GenerationSteps>
  </MapDefinition>
  
  <MapDefinition name="Cave" defaultTile="DarkDirt" width="40~70" soundtrack="Mystical Theme.mp3">
    <GenerationSteps>
      <Mutate ifType="DarkDirt" toType="Stone" chanceToMutate=".5"/>
      <Conway iterations="2~3" liveTile="DarkDirt" deadTile="Stone" birthLimit="4" deathLimit="3" />
      <SpawnActor type="Goblin" iterations="8~10"/>
      <SpawnItem type ="Platemail Helmet" iterations="1~2"/>
    </GenerationSteps>
  </MapDefinition>


</MapDefinitions>